# FPGA 기반 센서 융합 디지털 시계

FPGA(Basys3 보드)를 활용하여 시계, 스톱워치, 타이머의 기본 기능과 더불어 온/습도(DHT11), 거리(초음파) 센서 데이터를 통합하여 측정하고, UART 통신을 통해 PC로 실시간 모니터링 및 제어가 가능한 IoT 시스템 설계 프로젝트입니다.

---

## 🚀 프로젝트 목표

- **다기능 디지털 시계 구현**: 시계, 스톱워치, 타이머, 알람 등 다양한 시간 관련 기능을 구현합니다.
- **센서 데이터 통합**: 온도, 습도, 거리 정보를 센서로부터 수집하고 처리합니다.
- **안정적인 데이터 통신**: UART 통신과 FIFO 버퍼를 활용하여 FPGA 보드와 PC 간에 안정적으로 데이터를 송수신합니다.
- **IoT 시스템 기반 구축**: 수집된 환경 데이터를 바탕으로 스마트 IoT 환경을 구축하기 위한 기반 기술을 확보합니다.

---

## 🛠️ 사용 기술 및 환경

- **하드웨어**: Xilinx Basys3 (Artix-7 FPGA)
- **센서**: DHT11 (온/습도), 초음파 센서 HC-SR04 (거리)
- **언어**: Verilog HDL
- **개발 도구**: Xilinx Vivado
- **통신**: UART

---

## ⚙️ 시스템 아키텍처

본 시스템은 **입력부**, **중앙 처리부**, **출력 및 전송부**로 구성됩니다.
- **입력부**: Basys3 보드의 버튼/스위치 입력과 DHT11, 초음파 센서로부터 데이터를 수집합니다.
- **중앙 처리부 (FPGA)**: 입력된 데이터를 바탕으로 각 기능(시계, 센서값 계산 등)을 처리하고, UART 통신을 위한 데이터를 FIFO 버퍼에 저장합니다.
- **출력 및 전송부**: 처리된 결과를 보드의 7-Segment LED에 표시하고, UART 통신을 통해 PC로 실시간 데이터를 전송합니다.

### 전체 시스템 구성도
<img width="2559" height="1439" alt="화면 캡처 2025-09-04 150750" src="https://github.com/user-attachments/assets/d939903d-20be-4081-abf2-f0a79107325a" />


---

## 💡 주요 기능 및 특징

### 1. 다기능 시계
- **시계**: 현재 시간을 표시하고, PC 명령어로 시간 설정이 가능합니다.
- **스톱워치**: 경과 시간을 측정하며, 시작/정지/초기화 기능을 제공합니다.
- **타이머**: 설정된 시간부터 카운트다운하며, 완료 시 알람 LED를 점등합니다.

### 2. 센서 연동
- **온/습도 측정 (DHT11)**: DHT11 센서를 제어하여 현재 온도와 습도를 측정하고, PC로 전송합니다.
- **거리 측정 (초음파 센서)**: 초음파의 왕복 시간을 측정하여 물체와의 거리를 cm 단위로 계산하고 표시합니다.

### 3. PC 연동 UART 통신
PC 터미널 프로그램을 통해 간단한 명령어를 전송하여 각 모드를 선택하고 데이터를 요청할 수 있습니다.

- **모드 선택**: `C`(시계), `W`(스톱워치), `T`(타이머), `D`(DHT11), `U`(초음파) 명령어로 모드를 선택합니다.
- **데이터 요청**: `X` 명령어로 현재 선택된 모드의 값을 PC로 전송받습니다.
- **기능 제어**: 각 모드별로 `r`(Run/Stop), `c`(Clear), `s`(Setting) 등의 세부 명령어를 통해 원격으로 기능을 제어합니다.

---

## 🎬 동작 GIF 이미지

PC Command에 따라 UART 통신을 통해 정보를 반환

![커맨드에따른output](https://github.com/user-attachments/assets/9d704382-8a54-4cfe-8e32-b4949530b115)

온습도 센서 동작 확인

![온습도센서 동작영상 (1)](https://github.com/user-attachments/assets/d26ac884-9784-47be-957d-0972b409315e)
